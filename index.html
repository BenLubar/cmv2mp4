<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Dwarf Fortress CMV to MP4 converter</title>
<link href="https://cors-anywhere.herokuapp.com" rel="dns-prefetch">
<link href="manifest.json" rel="manifest">
<link href="sw.js" rel="prefetch">
<link href="ui.js" rel="prefetch">
<link href="worker.js" rel="prefetch">
<link href="curses_800x600.png" rel="prefetch">
<link href="pako_inflate.min.js" rel="prefetch">
<link href="ffmpeg-mp4.js" rel="prefetch">
<link href="ffmpeg-mp4.asm.js" rel="prefetch">
<link href="ffmpeg-mp4.js.mem" rel="prefetch">
<link href="manifest-icon-192.png" rel="icon">
<meta name="theme-color" content="#333">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="style.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41367436-1"></script>
</head>
<body>
<div id="dragdrop" class="inactive"></div>
<div id="upload">
<input type="file" accept=".cmv" multiple id="file" hidden>
<button id="button" disabled>Loading...</button>
<form id="upload_from_url" hidden><input type="url" id="ufu_url" placeholder="https://www.example.com/dwarf_fortress.cmv"> <input type="submit" id="ufu_submit" value="Upload from URL"></form>
<script async src="ui.js"></script>
</div>
<div id="faq">
<h1>Hypothetically Asked Questions</h1>
<h2 id="faq_wth">&hellip;what the hell is this?</h2>
<p>It's a webpage that converts Dwarf Fortress CMV files into MP4 files using the H.264 and AAC codecs.</p>
<h2 id="faq_idk">I don't know what any of those things are.</h2>
<p>Alright, here are some links:</p>
<ul>
<li><a href="http://bay12games.com/dwarves/">Dwarf Fortress</a> is a game made by <a href="https://en.wikipedia.org/wiki/Tarn_Adams">Tarn Adams</a>, his brother <a href="https://twitter.com/threetoebay12">Zach</a>, and his cat <a href="https://dwarffortresswiki.org/images/7/72/Scamps.png">Scamps</a>. In the game, you control a fortress full of dwarves who don't listen to you, and also there's no way to win the game.</li>
<li><a href="https://dwarffortresswiki.org/index.php/CMV">CMV</a> is the name of the proprietary file format Dwarf Fortress uses to record videos.</li>
<li><a href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> is a commonly used media container format.</li>
<li><a href="https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC">H.264</a> is a commonly used video compression standard.</li>
<li><a href="https://en.wikipedia.org/wiki/Advanced_Audio_Coding">AAC</a> is a commonly used proprietary audio compression format.</li>
</ul>
<h2 id="faq_how">wha&hellip; HOW?</h2>
<p>The CMV decoding code is based on <a href="https://benlubar.github.io/cmvjs/">cmvjs</a>, but the actual video encoding is done with ffmpeg. In your browser.</p>
<p>This page uses a custom version of <a href="https://github.com/Kagami/ffmpeg.js">ffmpeg.js</a> with just the components needed for this page. It also uses <a href="https://github.com/nodeca/pako">pako</a> to decompress parts of CMV files.</p>
<h2 id="faq_why">But&hellip; Why?</h2>
<p>Mostly because I was bored on February 15th, 2018.</p>
<h2 id="faq_pfm">I don't want to play Dwarf Fortress. Can you play it for me?</h2>
<p>Yes! You can install <a href="https://github.com/BenLubar/df-ai/releases/latest">df-ai</a> in your copy of Dwarf Fortress and then pretend I'm sitting with you in front of your computer.</p>
</div>
</body>
</html>
